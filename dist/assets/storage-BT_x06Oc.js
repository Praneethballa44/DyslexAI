const a={enabled:!0,typography:{fontFamily:"system-ui",lineHeight:1.6,letterSpacing:0,wordSpacing:0,fontWeight:"normal"},visualAids:{readingRuler:{enabled:!1,height:80,color:"#fef3c7",opacity:.4},screenTint:{enabled:!1,preset:"none",customColor:"#f5e6d3",intensity:30},focusMode:{enabled:!1,dimOpacity:.7},handConductor:{enabled:!1,conductingSensitivity:1,gestureShortcutsEnabled:!0},handFocus:{enabled:!1,spotlightRadius:100,blurAmount:6},readingFocus:{enabled:!1}},cognitive:{bionicReading:{enabled:!1,boldPercentage:50},syllableSplitter:{enabled:!1,separator:"Â·"}},audio:{enabled:!1,speed:1,voiceURI:"",highlightColor:"#fef08a",clickToRead:!1},widgetPosition:{x:-1,y:-1},widgetCollapsed:!0},o="lexilens_settings";function s(n,e){if(typeof e!="object"||e===null)return n;if(typeof n!="object"||n===null)return e;if(Array.isArray(n))return Array.isArray(e)?e:n;const t={...n};return Object.keys(e).forEach(i=>{e[i]!==null&&typeof e[i]=="object"&&i in n?t[i]=s(n[i],e[i]):t[i]=e[i]}),t}async function r(){return new Promise(n=>{if(typeof chrome<"u"&&chrome.storage)chrome.storage.sync.get([o],e=>{e[o]?n(s(a,e[o])):n(a)});else{const e=localStorage.getItem(o);n(e?s(a,JSON.parse(e)):a)}})}async function l(n){return new Promise(e=>{typeof chrome<"u"&&chrome.storage?chrome.storage.sync.set({[o]:n},()=>{e()}):(localStorage.setItem(o,JSON.stringify(n)),e())})}function d(n){if(typeof chrome<"u"&&chrome.storage){const e=t=>{t[o]&&n(s(a,t[o].newValue))};return chrome.storage.onChanged.addListener(e),()=>chrome.storage.onChanged.removeListener(e)}else{const e=t=>{t.key===o&&t.newValue&&n(s(a,JSON.parse(t.newValue)))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}}export{a as D,r as g,d as o,l as s};
